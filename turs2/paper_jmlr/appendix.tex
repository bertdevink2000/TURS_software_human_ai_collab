\section*{Proof of Proposition 1}
%\begin{proposition}
%Given a rule set $\ruleset$ in which for any $S_i, S_j \in \ruleset$, $S_i \cap S_j = \emptyset$, then $P^{NML}_{\ruleset}(Y^n=y^n|X^n=x^n) = P^{apprNML}_{\ruleset}(Y^n=y^n|X^n=x^n)$.
%\end{proposition}
\primelemma*

\begin{proof}
The numerators are the same, and hence we only need to show that the denominators are the same. Assume there are $K$ rules in $M$ in total, 
\begin{equation} 
\begin{split}
		& \sum_{z^n \in \mathscr{Y}^n} P_{M, \htheta(x^n, z^n)}(z^n|x^n) = \sum_{z^n} \prod_{S\in M} \hat{P}_S(y^S|X^S) \\
		& = \sum_{z^n} \hat{P}_{_{S_1}}(z^{S_1}|x^{S_1}) \ldots \hat{P}_{_{S_K}}(z^{S_{K}}|x^{S_{K}}) \\
		& = \sum_{z^{S_1}} \ldots \sum_{z^{S_{K}}} \left(\hat{P}_{_{S_1}}(z^{S_1}|x^{S_1}) \ldots \hat{P}_{_{S_K}}(z^{S_{K}}|x^{S_{K}}) \right)\\
		& = \Bigg(\sum_{z^{S_1}} \ldots \sum_{z^{S_{K-1}}} \hat{P}_{_{S_1}}(z^{S_1}|x^{S_1}) \ldots \hat{P}_{_{S_{K-1}}} (z^{S_{K-1}}|x^{S_{K-1}}) \Bigg) \left(\sum_{z^{S_{K}}}  \hat{P}_{_{S_K}}(z^{S_{K}}|x^{S_{K}})\right) \\
				& \ldots \\
		& = \left(\sum_{z^{S_{1}}}  \hat{P}_{_{S_{1}}}(z^{S_{1}}|x^{S_{1}})\right) \ldots \left(\sum_{z^{S_{K}}}  \hat{P}_{_{S_K}}(z^{S_{K}}|x^{S_{K}})\right)\\
		& = \prod_{S \in M} \sum_{z^{S}}  \hat{P}_{_{S}}(z^{S}|x^{S}) \\
		& = \prod_{S \in M} \mathcal{R}(|S|, |\mathscr{Y}|),
\end{split}
\end{equation}
which completes the proof.
\end{proof}

\section*{Proof of Proposition 2}
%\begin{proposition}
%Assume $\ruleset$ contains $K$ rules in total, including the else rule, and we have $n$ instances. Then $
%\log \left(\prod_{S \in \ruleset} \mathcal{R}(|S|, |\mathscr{Y}|)\right) = \frac{K(|\mathscr{Y}| - 1)}{2} \log n + \mathcal{O}(1)$, where $\mathcal{O}(1)$ is bounded by a constant w.r.t.\ to $n$.
%\end{proposition}
\secondlemma*

\begin{proof}
	The proof directly follows from Theorem~3 of~\citep{silander2008factorized}. Firstly, it has been proven that $\log \mathcal{R}(|S|, |\mathscr{Y}|) = \frac{|\mathscr{Y}| - 1}{2} \log |S| + \mathcal{O}(1)$~\citep{rissanen1996fisher}. Next, under the mild assumption that $|S|$ grows linearly as the full sample size $n$, we have $\log |S| = \log ((\gamma + o(1))n) = \log n + \mathcal{O}(1)$. Hence, $\log \prod_{S \in M} \mathcal{R}(|S|, |\mathscr{Y}|) = \sum_{S}\log \mathcal{R}(|S|, |\mathscr{Y}|)$ $= \frac{K(|\mathscr{Y}| - 1)}{2} \log n + \mathcal{O}(1)$, which completes the proof. 
\end{proof}
